@model ISpanSTA.ViewModel.CStartExam2ViewModel

@{
    ViewData["Title"] = "StartExam4";
}
<div class="container mt-5">
    <h1>StartExam4 @Model.examp[0].FName</h1>

    <h4>CStartExam2ViewModel</h4>
    <hr />
    <div class="row">
        <div class="col-md-12">
            <form asp-action="StartExam4">
                <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                @Model.subject[2].FQuestion
                @Model.examp


                <div id="wrapper">
                    @*container fluid*@
                    <div class="container-fluid mt-3">
                        <div class="row">
                            @*試卷面板開始*@
                            <div class="col-md-9 col-sm-7">
                                @{ for (int i = 0; i < @Model.subject.Count; i++)
                                    {
                                        <div id="single-choice">
                                            <div class="card mb-3">
                                                <div class="card-body">
                                                    <div class="row">
                                                        <div class="col-md-1">
                                                            <div class="row">
                                                                <a class="font-weight-bold">Q1：</a>
                                                                @*<a class="font-weight-bold">單選</a>*@
                                                            </div>
                                                            <div class="row">
                                                                @*<a class="text-info">5分</a>*@
                                                            </div>
                                                        </div>

                                                        <div class="col-md-11">
                                                            <div id="text" class="row">
                                                                題目題目題目？@Model.subject[i].FQuestion
                                                            </div>
                                                            <br />
                                                            <div id="pic" class="row">

                                                            </div>
                                                            <div id="option">
                                                                <div class="form-check">
                                                                    <input class="form-check-input" type="radio" name="exampleRadios"
                                                                           id="exampleRadios1" value="option1" checked>
                                                                    <label class="form-check-label" for="exampleRadios1">
                                                                        A: Options1 @Model.subject[i].FOption1
                                                                    </label>
                                                                </div>
                                                                <div class="form-check">
                                                                    <input class="form-check-input" type="radio" name="exampleRadios"
                                                                           id="exampleRadios2" value="option2">
                                                                    <label class="form-check-label" for="exampleRadios2">
                                                                        B: Options2 @Model.subject[i].FOption2
                                                                    </label>
                                                                </div>
                                                                <div class="form-check">
                                                                    <input class="form-check-input" type="radio" name="exampleRadios"
                                                                           id="exampleRadios1" value="option3" checked>
                                                                    <label class="form-check-label" for="exampleRadios1">
                                                                        C: Options3 @Model.subject[i].FOption3
                                                                    </label>
                                                                </div>
                                                                <div class="form-check">
                                                                    <input class="form-check-input" type="radio" name="exampleRadios"
                                                                           id="exampleRadios1" value="option4" checked>
                                                                    <label class="form-check-label" for="exampleRadios1">
                                                                        D: Options4 @Model.subject[i].FOption4
                                                                    </label>
                                                                </div>
                                                            </div>
                                                            <hr />
                                                        </div>


                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    }
                                }
                                <footer class="sticky-footer bg-white">
                                    <div class="container my-auto">
                                        <div class="copyright text-center my-auto">
                                            <button class="bnt btn-success">上一題</button>  <button class="bnt btn-success">下一題</button>
                                        </div>
                                    </div>
                                </footer>
                            </div>
                            <!-- 試卷面板结束
                            <!-- 進度和試卷訊息面板開始,懸浮面板-->
                            <div style="position:fixed;top:20px;right:5px" class="col-md-3 col-sm-5">
                                <div class="navbar navbar-inverse navbar-fixed-top">
                                    <div class="navbar-inner">
                                        @*fluid 是偏移一部分*@
                                        <div class="container-fluid">
                                            <div class="card">
                                                <div class="card-header">

                                                </div>
                                                <div class="card-body">

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- 訊息部分開始 -->
                                <div class="card shadow-sm mb-3">
                                    <div class="card-header">
                                        <a class="h6 font-weight-bold text-gray-700">試卷資訊</a>
                                    </div>
                                    <div class="card-body">
                                        <br />
                                        <p class="h6  text-gray-700">姓名: 小蘋果 @Model.student[0].FStudentName</p>
                                        <p class="h6  text-gray-700">科目: C##### </p>
                                        <p class="h6  text-gray-700">試卷: Test1 @Model.examp[0].FName</p>
                                    </div>
                                </div>
                                <!-- 訊息部分结束 -->
                                <!-- 計時部分开始 -->
                                <div class="card shadow-sm mb-3">
                                    <div class="card-body">
                                        <br /><br />
                                        剩餘時間:
                                        <br />
                                        <div id="clockdiv">
                                            <h1 style="color: red">
                                                <div class="minutes" style="float: left"> </div>
                                                <p style="float: left; color: red; font-size: large; font-weight: bold">:</p>
                                                <div class="seconds"></div>
                                            </h1>
                                        </div>

                                    </div>
                                </div>
                                <!-- 計時部分结束 -->
                                <div class="card shadow-sm mb-md-3">
                                    <div class="card-header">
                                        <a class="h6 font-weight-bold text-gray-700">答題卡</a>
                                    </div>
                                    <div class="card-body">

                                        <hr />
                                        <!-- 答題卡開始 -->
                                        <div class="row align-middle">
                                            <div class="col-md-2 col-sm-4 mb-2">
                                                <!-- 超連結跳轉题目 -->
                                                <a href="#" class="btn-sm btn-primary btn-circle">
                                                    1
                                                </a>
                                            </div>
                                            <div class="col-md-2 col-sm-4">
                                                <a href="#" class="btn-sm btn-primary btn-circle">
                                                    2
                                                </a>
                                            </div>
                                            <div class="col-md-2 col-sm-4">
                                                <a href="#" class="btn-sm btn-primary btn-circle">
                                                    3
                                                </a>
                                            </div>
                                            <div class="col-md-2 col-sm-4">
                                                <a href="#" class="btn-sm btn-primary btn-circle">
                                                    4
                                                </a>
                                            </div>
                                            <div class="col-md-2 col-sm-4">
                                                <a href="#" class="btn-sm btn-primary-outline btn-circle">
                                                    5
                                                </a>
                                            </div>
                                            <div class="col-md-2 col-sm-4">
                                                <a href="#" class="btn-sm btn-primary-outline btn-circle">
                                                    6
                                                </a>
                                            </div>
                                            <div class="col-md-2 col-sm-4">
                                                <a href="#" class="btn-sm btn-primary-outline btn-circle">
                                                    7
                                                </a>
                                            </div>

                                        </div>

                                    </div>
                                </div>
                                <!-- 答題卡结束 -->
                                <br /> <br /> <br />
                                <!-- 交卷部分開始 -->
                                <button class="btn btn-primary btn-block">提交</button>
                                <!-- 交卷部分结束 -->
                            </div>
                            <!-- 面板结束-->
                        </div>
                    </div>
                </div>



                <div class="form-group">
                    <input type="submit" value="Create" class="btn btn-primary" />
                </div>
            </form>
        </div>
    </div>
</div>

@section Scripts {
    <script>
    function getTimeRemaining(endtime) {
        var t = Date.parse(endtime) - Date.parse(new Date());
        var seconds = Math.floor((t / 1000) % 60);
        var minutes = Math.floor((t / 1000 / 60) % 1);

        return {
            'total': t,
            'minutes': minutes,
            'seconds': seconds
        };
    }

    function initializeClock(id, endtime) {
        var clock = document.getElementById(id);

        var minutesSpan = clock.querySelector('.minutes');
        var secondsSpan = clock.querySelector('.seconds');

        function updateClock() {
            var t = getTimeRemaining(endtime);


            minutesSpan.innerHTML = ('0' + t.minutes).slice(-2);
            secondsSpan.innerHTML = ('0' + t.seconds).slice(-2);

            if (t.total <= 0) {
                clearInterval(timeinterval);


            }
        }

        updateClock();
        var timeinterval = setInterval(updateClock, 1000);
    }

    var deadline = new Date(Date.parse(new Date()) + 60 * 60 * 1000);
    initializeClock('clockdiv', deadline);

    // ...................................
    var _second = 1000;
    var _minute = _second * 60;
    var _hour = _minute * 60;
    var _day = _hour * 24;
    var timer;
    var end = new Date().getTime() + (60 * _second);
    //

    function showRemaining() {
        var now = new Date();
        var distance = end - now;
        if (distance < 0) {

            clearInterval(timer);
            document.getElementById('countdown').innerHTML = 'EXPIRED!';

            return;
        }
        var days = Math.floor(distance / _day);
        var hours = Math.floor((distance % _day) / _hour);
        var minutes = Math.floor((distance % _hour) / _minute);
        var seconds = Math.floor((distance % _minute) / _second);

        document.getElementById('countdown').innerHTML = days + 'days ';
        document.getElementById('countdown').innerHTML += hours + 'hrs ';
        document.getElementById('countdown').innerHTML += minutes + 'mins ';
        document.getElementById('countdown').innerHTML += seconds + 'secs';
    }

    timer = setInterval(showRemaining, 1000);
    </script>
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
